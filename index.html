<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>RESTy by LaSerendipity</title>
  </head>

  <body>
    <div id='MicrosoftTranslatorWidget' class='Light' style='color:white; background-color:#555555; position: absolute; right: 300px; top: 20px;'></div>
    <header>
      <div class="container">
        <h1>RESTy</h1>
        <h2>Declarative REST mapper for Java.</h2>

        <section id="downloads">
          <a href="https://github.com/LaSerendipity/RESTy/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/LaSerendipity/RESTy/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/LaSerendipity/RESTy" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>
    <div class="container">
      <section id="main_content">
        <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>RESTy とは</h3>

<p>RESTy は、Java 7 以上で利用できる、宣言的 REST client フレームワークです。<code>@GET</code>, <code>@POST</code> といった JAX-RS Annotations を流用して、REST client を非常に単純に記述することができます。</p>

<p>例えば、ここに以下のような JSON ファイルを用意してあります</p>

<pre><code>{
    "message": "Hello, RESTy!"
}</code></pre>
<a href="https://laserendipity.github.io/RESTy/json_sample/hello.js">/RESTy/json_sample/hello.js</a>

<p>RESTy を利用してこのデータを取得する手順を以下に示します。

<ol>
<li>対象のデータを表現する JavaBean　クラスを作成する。</li>
<li>REST Interface を表現する Java の interface を作成する。</li>
<li>RESTy を利用して、宣言したインタフェースを呼び出す。</li>
</ol>

それでは、以下で詳しく内容を見ていきます。
</p>

<h3>JavaBean クラスの作成</h3>
<p>対象のデータを表現する JavaBean クラスを作成します。RESTy が問題無くオブジェクトを扱えるように、引数無しのデフォルトコンストラクタが必須です。</p>
<p>先ほどの JSON を受け取るのであれば、以下のようになると思います。</p>
<pre><code>class Message {
    String message;
}</code></pre>
<p>※ RESTy は JSON Deserialize に Google GSON を利用しています。そのため、Setter は無くても問題無く、プロパティ名の変更には GSON の Annotation が利用できます </p>

<h3>Java Interface の作成</h3>
<p>RESTy は、REST Endpoint として提供されている URL を、コンテンツを提供しているサーバーの Interface と見なします。</p>
<p>次のように REST Interface を Java Interface として表現して下さい。</p>
<pre><code>import javax.ws.rs.Path;

@Path("https://laserendipity.github.io/RESTy/json_sample")
public interface SampleRESTServer {
    @Path("/hello.js")
    Message getMessageJSON();
}</code></pre>

<p><code>@Path</code> は JAX-RS Annotations です。Annotation 抜きに見ると、次のように見えます。</p>

<pre><code>public interface SampleRESTServer {
    Message getMessageJSON();
}</code></pre>

<p>SampleRESTServer というインタフェースがあり、メソッドを一つ持ちます。メソッド getMessageJSON() は、引数無しに呼び出すことができます。呼び出すと、返値として Message オブジェクトが返ってきます。</p>
<p>Annotation では、それぞれのインタフェースやメソッドに対応する URL Path が指定されています。</p>

<h3>RESTy を通した実行</h3>
<p>ここまで登場したのは、Java のクラス・インタフェース・そして少しのアノテーションでした。まだ RESTy が登場していません。</p>
<p>サーバーをインタフェースとして記述した後は、インタフェースを通じてサーバーを呼び出す事ができます。</p>
<p>そのために、RESTy でクラスを実体化します。驚くほど簡単です。</p>
<pre><code>import la.serendipity.RESTy;

public class FirstRESTy{
	public static void main(String[] args) {
	    // SampleRESTServer.class を実体化
	    SampleRESTServer serverInterface = RESTy.matelialize(SampleRESTServer.class);
	    
	    // インタフェースを利用して、サーバーの getMessageJSON() メソッドを呼び出す
	    Message result = serverInterface.getMessageJSON();
	    
	    // Print message.
	    System.out.println(result.message);        
	}	
}</code></pre>
<p><code>Hello, RESTy!</code> と表示されましたか？</p>

<h3>その他の機能（開発中）</h3>
<dl>
<dt>宣言的なエラーハンドリング</dt>
<dd>リトライ・ログ・ダミーオブジェクトの返却</dd>
<dt>Interface の自動生成</dt>
<dd>@RequestMappring アノテーションを解析し、対応する Interface を自動生成する。</dd>
</dl>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-2157502-7");
              
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
          <script type='text/javascript'>setTimeout(function(){{var s=document.createElement('script');s.type='text/javascript';s.charset='UTF-8';s.src=((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=gR3Cu57PWLUkzXdC4zQZfU6iw1VlEvS9dcEH5anARX8XPdOGjRI9VxEs_lRXFcpMG-HjeSpfOq8naKd6z3mKcJIuqGIHvJGzbQi5D6KiwYC9I2_c-0WzV5gkriTgpunU&ctf=True&ui=true&settings=Manual&from=ja';var p=document.getElementsByTagName('head')[0]||document.documentElement;p.insertBefore(s,p.firstChild); }},0);</script>
  </body>
</html>
